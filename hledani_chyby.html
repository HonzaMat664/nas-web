<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>hledani_chyby</title>
  </head>
  <body>
    dnešní poznámky nejde dálkové ovládání<br>
    <br>
    <h3 data-start="598" data-end="636" style="caret-color: rgb(0, 0,
      0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps:
      normal; letter-spacing: normal; orphans: auto; text-align: start;
      text-indent: 0px; text-transform: none; white-space: normal;
      widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;
      text-decoration: none;">Úprava pravidla udev:<br>
    </h3>
    <pre class="overflow-visible!" data-start="638" data-end="765" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><pre class="overflow-visible!" data-start="597" data-end="653" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><pre class="overflow-visible!" data-start="1633" data-end="1662" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><pre class="overflow-visible!" data-start="322" data-end="381" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><font size="-1" face="Courier New, Courier, monospace">sudo nano /etc/udev/rules.d/99-lirc-names.rules  #upraveno</font><code class="whitespace-pre! language-bash"><span><span> následnými řádky
</span></span></code></pre></pre></pre><code class="whitespace-pre! language-bash"><span><span>KERNEL==</span><span><span class="hljs-string">"lirc0"</span></span><span>, SYMLINK+=</span><span><span class="hljs-string">"lirc-tx" #</span></span></span></code><code class="whitespace-pre! language-bash"><span><span><span class="hljs-string"><meta charset="UTF-8"></span></span><span>transiver - vysílač do IRLED u YAMAHA
KERNEL==</span><span><span class="hljs-string">"lirc1"</span></span><span>, SYMLINK+=</span><span><span class="hljs-string">"lirc-rx" #reciever - přijímač obou DO<br></span></span></span></code><br>Pak reload a trigger:<code class="whitespace-pre! language-bash"><span><span><span class="hljs-string"></span></span></span></code><br><code class="whitespace-pre! language-bash"><span><span></span></span></code><code class="whitespace-pre! language-bash"><span><span>sudo udevadm control --reload
</span></span></code><code class="whitespace-pre! language-bash"><span></span></code><code class="whitespace-pre! language-bash"><span><span>sudo udevadm trigger
</span></span></code><code class="whitespace-pre! language-bash"></code><code class="whitespace-pre! language-bash"><span><span></span></span></code><br><code class="whitespace-pre! language-bash"><span><span></span></span></code>Ověření:<br><code class="whitespace-pre! language-bash"><span></span></code><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span><span class="hljs-built_in">ls</span></span><span> -l /dev/lirc*
</span></span></code></div></div></div><code class="whitespace-pre! language-bash"></code><p data-start="1325" data-end="1339" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Měl bys vidět:<br></p><pre class="overflow-visible!" data-start="1341" data-end="1456" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre!"><span><span>/dev/lirc0 -&gt; ...  
/dev/lirc1 -&gt; ...
/dev/lirc-tx -&gt; lirc0 (nebo lirc1)
/dev/lirc-rx -&gt; lirc1 (nebo lirc0)</span></span></code></div></div></pre><meta charset="UTF-8"><br>dualV5.py<br><br><font size="-1" face="Courier New, Courier,
        monospace">sudo ir-keytable -p nec -s rc0 # tímto se to zprovoznilo minule,</font><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: -webkit-standard; font-size: medium; font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; display: inline !important; float: none;">Každé IR zařízení má svoje vlastní číslo<span class="Apple-converted-space">&nbsp;</span></span><strong data-start="596" data-end="603" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">rcX</strong><meta charset="UTF-8"><br><br>zásadní dotaz:<br><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: -webkit-standard; font-size: medium; font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; display: inline !important; float: none;">evtest nevypisuje nic, <b>co znamená sudo ir-keytable -p nec -s rc0</b>, to mám pocit že kdysi fungovalo, celé mi to přestalo fungovat po restartu</span><meta charset="UTF-8">.<br>sudo ir-keytable -s rc1 -p nec # <font color="#ff0000">tímto se to celé zprovoznilo</font><br><br><h3 data-start="121" data-end="148" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Vytvoření služby</h3><pre class="overflow-visible!" data-start="190" data-end="251" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo nano /etc/systemd/system/ir-keytable.service </span></span></code><code class="whitespace-pre! language-ini"><span><span><span class="hljs-section"></span></span><span># obsahuje následující řádky<br><br></span><span><span class="hljs-attr">Description</span></span><span>=Nastavení IR protokolu pro gpio_ir_recv
</span><span><span class="hljs-attr">After</span></span><span>=multi-user.target

</span><span><span class="hljs-section">[Service]</span></span><span>
</span><span><span class="hljs-attr">Type</span></span><span>=</span><span><span class="hljs-literal">on</span></span><span>eshot
</span><span><span class="hljs-attr">ExecStart</span></span><span>=/usr/bin/ir-keytable -s rc1 -p nec

</span><span><span class="hljs-section">[Install]</span></span><span>
</span><span><span class="hljs-attr">WantedBy</span></span><span>=multi-user.target<br><br></span></span></code><h3 data-start="601" data-end="637" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Načtení a aktivace<br></h3><pre class="overflow-visible!" data-start="639" data-end="762" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo systemctl daemon-reexec
sudo systemctl </span><span><span class="hljs-built_in">enable</span></span><span> ir-keytable.service
sudo systemctl start ir-keytable.service<br><br></span></span></code><h3 data-start="769" data-end="802" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Ověření</h3><p data-start="804" data-end="820" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Zkontroluj stav:<br></p><pre class="overflow-visible!" data-start="822" data-end="875" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>sudo systemctl status ir-keytable.service
</span></span></code></div></div></pre><p data-start="985" data-end="1113" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-style: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;">Měl bys vidět zelený stav<span class="Apple-converted-space">&nbsp;</span><code data-start="903" data-end="920">active (exited)</code><span class="Apple-converted-space">&nbsp;</span>a výpis s<span class="Apple-converted-space">&nbsp;</span><code data-start="931" data-end="977">ExecStart=/usr/bin/ir-keytable -s rc1 -p nec</code>.<br>Příkaz se nyní automaticky spustí po každém restartu. Pokud bys někdy měl jiný<span class="Apple-converted-space">&nbsp;</span><code data-start="1072" data-end="1077">rcX</code>, stačí změnit<span class="Apple-converted-space">&nbsp;</span><code data-start="1092" data-end="1100">-s rc1</code><span class="Apple-converted-space">&nbsp;</span>v té službě.<br>Celá komunikace je uložena v archivu ChatGPT.<br></p><meta charset="UTF-8"><br><code class="whitespace-pre! language-bash"><span><span></span></span></code></div></div></pre><meta charset="UTF-8"><br><code class="whitespace-pre! language-ini"><span><span></span></span></code></div></div></pre><meta charset="UTF-8"><br><code class="whitespace-pre! language-bash"><span><span><span class="hljs-string"></span></span></span></code></div></div></pre>
    <meta charset="UTF-8">
  </body>
</html>
